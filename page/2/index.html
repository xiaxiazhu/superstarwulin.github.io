<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>武林的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="superstarwulin">
<meta property="og:type" content="website">
<meta property="og:title" content="武林的博客">
<meta property="og:url" content="superstarwulin.github.io/page/2/index.html">
<meta property="og:site_name" content="武林的博客">
<meta property="og:description" content="superstarwulin">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="武林的博客">
<meta name="twitter:description" content="superstarwulin">
  
    <link rel="alternative" href="/atom.xml" title="武林的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="http://gtms01.alicdn.com/tps/i1/TB1x_.vHVXXXXXvXVXX2YSA3pXX-540-960.jpg_180x180xz.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">leo(武林)</a></h1>
		</hgroup>

		
		<p class="header-subtitle">技术自由，耕耘点滴</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/photo/">相册</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/superstarwulin" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2434748684/profile?topnav=1&wvr=6" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="/wulin.zwl@taobao.com" title="mail">mail</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/zhuwulin" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/JavaScript/" style="font-size: 16.67px;">JavaScript</a> <a href="/tags/browserify/" style="font-size: 10px;">browserify</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/es6/" style="font-size: 10px;">es6</a> <a href="/tags/git-extras/" style="font-size: 10px;">git extras</a> <a href="/tags/reactnative/" style="font-size: 10px;">reactnative</a> <a href="/tags/sketch/" style="font-size: 10px;">sketch</a> <a href="/tags/webpack/" style="font-size: 13.33px;">webpack</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/兼容性/" style="font-size: 10px;">兼容性</a> <a href="/tags/基础/" style="font-size: 20px;">基础</a> <a href="/tags/工具/" style="font-size: 13.33px;">工具</a> <a href="/tags/微架构/" style="font-size: 16.67px;">微架构</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">朱武林，2013年毕业于华南理工大学电子与信息学院，获得硕士学位。曾就职于百度hao123团队，现就职于阿里巴巴天猫前端团队，花名五零；geek精神，技术自由。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">leo(武林)</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://gtms01.alicdn.com/tps/i1/TB1x_.vHVXXXXXvXVXX2YSA3pXX-540-960.jpg_180x180xz.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">leo(武林)</h1>
			</hgroup>
			
			<p class="header-subtitle">技术自由，耕耘点滴</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/photo/">相册</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/superstarwulin" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2434748684/profile?topnav=1&wvr=6" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="/wulin.zwl@taobao.com" title="mail">mail</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/zhuwulin" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-webpack" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/25/webpack/" class="article-date">
  	<time datetime="2016-07-25T07:25:15.000Z" itemprop="datePublished">2016-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/25/webpack/">webpack入门</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://webpack.github.io/assets/what-is-webpack.png" alt="enter image description here"></p>
<h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><blockquote>
<p>demo 地址<br><a href="https://github.com/superstarwulin/webpackdemo.git" target="_blank" rel="external">https://github.com/superstarwulin/webpackdemo.git</a></p>
</blockquote>
<h1 id="Welcome"><a href="#Welcome" class="headerlink" title="Welcome"></a>Welcome</h1><p>This small tutorial will guide you through a simple example.</p>
<p>You’ll learn:</p>
<ul>
<li>How to install webpack</li>
<li>How to use webpack</li>
<li>How to use loaders</li>
<li>How to use the development server</li>
</ul>
<hr>
<p><a id="installing-webpack"></a></p>
<h1 id="Installing-webpack"><a href="#Installing-webpack" class="headerlink" title="Installing webpack"></a>Installing webpack</h1><p>You need to have <a href="https://nodejs.org" target="_blank" rel="external">node.js</a> installed.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm <span class="keyword">install</span> webpack -g</div></pre></td></tr></table></figure>
<blockquote>
<p>This makes the webpack command available.</p>
</blockquote>
<hr>
<p><a id="setup-compilation"></a></p>
<h1 id="Setup-the-compilation"><a href="#Setup-the-compilation" class="headerlink" title="Setup the compilation"></a>Setup the compilation</h1><p>Start with a empty directory.</p>
<p>Create these files:</p>
<div class="panel panel-add"><br><br>### add <code>entry.js</code><br><br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">document.write(<span class="string">"It works."</span>)<span class="comment">;</span></div></pre></td></tr></table></figure><br><br></div>

<div class="panel panel-add"><br><br>### add <code>index.html</code><br><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><br><br></div>

<p>Then run the following:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack ./entry<span class="selector-class">.js</span> bundle.js</div></pre></td></tr></table></figure>
<p>It will compile your file and create a bundle file.</p>
<p>If successful it displays something like this:</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Version: webpack 1.12.11</div><div class="line"><span class="keyword">Time:</span> 51ms</div><div class="line">    Asset     Size  Chunks             Chunk Names</div><div class="line">bundle.js  1.42 kB       0  [emitted]  main</div><div class="line">chunk    &#123;0&#125; bundle.js (main) 28 bytes [rendered]</div><div class="line">    [0] ./tutorials/getting-started/setup-compilation/entry.js 28 bytes &#123;0&#125; [built]</div></pre></td></tr></table></figure>
<p>Open <code>index.html</code> in your browser. It should display <code>It works.</code></p>
<iframe class="tutorial-iframe" seamless src="tutorials/getting-started/setup-compilation/index.html"></iframe>

<hr>
<p><a id="second-file"></a></p>
<h1 id="Second-file"><a href="#Second-file" class="headerlink" title="Second file"></a>Second file</h1><p>Next, we will move some code into an extra file.</p>
<div class="panel panel-add"><br><br>### add <code>content.js</code><br><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = <span class="string">"It works from content.js."</span>;</div></pre></td></tr></table></figure><br><br></div>

<div class="panel panel-update"><br><br>### update <code>entry.js</code><br><br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- <span class="built_in">document</span>.write(<span class="string">"It works."</span>);+ <span class="built_in">document</span>.write(<span class="built_in">require</span>(<span class="string">"./content.js"</span>));</div></pre></td></tr></table></figure><br><br></div>

<p>And recompile with:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack ./entry<span class="selector-class">.js</span> bundle.js</div></pre></td></tr></table></figure>
<p>Update your browser window and you should see the text <code>It works from content.js.</code>.</p>
<iframe class="tutorial-iframe" seamless src="tutorials/getting-started/second-file/index.html"></iframe>

<blockquote>
<p>webpack will analyze your entry file for dependencies to other files. These files (called modules) are included in your <code>bundle.js</code> too. webpack will give each module a unique id and save all modules accessible by id in the <code>bundle.js</code> file. Only the entry module is executed on startup. A small runtime provides the <code>require</code> function and executes the dependencies when required.</p>
</blockquote>
<hr>
<p><a id="first-loader"></a></p>
<h1 id="The-first-loader"><a href="#The-first-loader" class="headerlink" title="The first loader"></a>The first loader</h1><p>We want to add a css file to our application.</p>
<p>webpack can only handle JavaScript natively, so we need the <code>css-loader</code> to process CSS files. We also need the <code>style-loader</code> to apply the styles in the CSS file.</p>
<p>Run <code>npm install css-loader style-loader</code> to install the loaders. (They need to be installed locally, without <code>-g</code>) This will create a <code>node_modules</code> folder for you, in which the loaders will live.</p>
<p>Let’s use them:</p>
<div class="panel panel-add"><br><br>### add <code>style.css</code><br><br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">    <span class="attribute">background</span>: yellow;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br></div>

<div class="panel panel-update"><br><br>### update <code>entry.js</code><br><br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">+ <span class="built_in">require</span>(<span class="string">"!style!css!./style.css"</span>);</div><div class="line">  <span class="built_in">document</span>.write(<span class="built_in">require</span>(<span class="string">"./content.js"</span>));</div></pre></td></tr></table></figure><br><br></div>

<p>Recompile and update your browser to see your application with yellow background.</p>
<iframe class="tutorial-iframe" seamless src="tutorials/getting-started/first-loader/index.html"></iframe>

<blockquote>
<p>By prefixing loaders to a module request, the module went through a loader pipeline. These loaders transform the file content in specific ways. After these transformations are applied, the result is a JavaScript module.</p>
</blockquote>
<hr>
<p><a id="binding-loaders"></a></p>
<h1 id="Binding-loaders"><a href="#Binding-loaders" class="headerlink" title="Binding loaders"></a>Binding loaders</h1><p>We don’t want to write such long requires <code>require(&lt;span class=&quot;string&quot;&gt;&quot;!style!css!./style.css&quot;&lt;/span&gt;);</code>.</p>
<p>We can bind file extensions to loaders so we just need to write: <code>require(&lt;span class=&quot;string&quot;&gt;&quot;./style.css&quot;&lt;/span&gt;)</code></p>
<div class="panel panel-update"><br><br>### update <code>entry.js</code><br><br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- <span class="built_in">require</span>(<span class="string">"!style!css!./style.css"</span>);</div><div class="line">+ <span class="built_in">require</span>(<span class="string">"./style.css"</span>);</div><div class="line">  <span class="built_in">document</span>.write(<span class="built_in">require</span>(<span class="string">"./content.js"</span>));</div></pre></td></tr></table></figure><br><br></div>

<p>Run the compilation with:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack ./entry<span class="selector-class">.js</span> bundle<span class="selector-class">.js</span> --module-bind <span class="string">'css=style!css'</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Some environments may require double quotes: –module-bind “css=style!css”</p>
</blockquote>
<p>You should see the same result:</p>
<iframe class="tutorial-iframe" seamless src="tutorials/getting-started/binding-loaders/index.html"></iframe>

<hr>
<p><a id="config-file"></a></p>
<h1 id="A-config-file"><a href="#A-config-file" class="headerlink" title="A config file"></a>A config file</h1><p>We want to move the config options into a config file:</p>
<div class="panel panel-add"><br><br>### add <code>webpack.config.js</code><br><br><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line"><span class="symbol">    entry:</span> <span class="string">"./entry.js"</span>,</div><div class="line"><span class="symbol">    output:</span> &#123;</div><div class="line"><span class="symbol">        path:</span> __dirname,</div><div class="line"><span class="symbol">        filename:</span> <span class="string">"bundle.js"</span></div><div class="line">    &#125;,</div><div class="line"><span class="symbol">    module:</span> &#123;</div><div class="line"><span class="symbol">        loaders:</span> [</div><div class="line">            &#123; test: /\.css$/, loader: <span class="string">"style!css"</span> &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><br><br></div>

<p>Now we can just run:</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">webpack</span></div></pre></td></tr></table></figure>
<p>to compile:</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">Version:</span> webpack <span class="number">1.12</span><span class="number">.11</span></div><div class="line"><span class="symbol">Time:</span> <span class="number">379</span>ms</div><div class="line">    Asset     Size  Chunks             Chunk Names</div><div class="line">bundle.js  <span class="number">10.7</span> kB       <span class="number">0</span>  [emitted]  main</div><div class="line">chunk    &#123;<span class="number">0</span>&#125; bundle.js (main) <span class="number">8.86</span> kB [rendered]</div><div class="line">    [<span class="number">0</span>] .<span class="meta-keyword">/tutorials/</span>getting-started<span class="meta-keyword">/config-file/</span>entry.js <span class="number">65</span> <span class="class">bytes </span>&#123;<span class="number">0</span>&#125; [built]</div><div class="line">    [<span class="number">1</span>] .<span class="meta-keyword">/tutorials/</span>getting-started<span class="meta-keyword">/config-file/</span>style.css <span class="number">943</span> <span class="class">bytes </span>&#123;<span class="number">0</span>&#125; [built]</div><div class="line">    [<span class="number">2</span>] ../~/css-loader!.<span class="meta-keyword">/tutorials/</span>getting-started<span class="meta-keyword">/config-file/</span>style.css <span class="number">201</span> <span class="class">bytes </span>&#123;<span class="number">0</span>&#125; [built]</div><div class="line">    [<span class="number">3</span>] ../~<span class="meta-keyword">/css-loader/</span>lib/css-base.js <span class="number">1.51</span> <span class="class">kB </span>&#123;<span class="number">0</span>&#125; [built]</div><div class="line">    [<span class="number">4</span>] ../~<span class="meta-keyword">/style-loader/</span>addStyles.js <span class="number">6.09</span> <span class="class">kB </span>&#123;<span class="number">0</span>&#125; [built]</div><div class="line">    [<span class="number">5</span>] .<span class="meta-keyword">/tutorials/</span>getting-started<span class="meta-keyword">/config-file/</span>content.js <span class="number">45</span> <span class="class">bytes </span>&#123;<span class="number">0</span>&#125; [built]</div></pre></td></tr></table></figure>
<blockquote>
<p>The webpack command-line will try to load the file <code>webpack.config.js</code> in the current directory.</p>
</blockquote>
<hr>
<p><a id="pretty-output"></a></p>
<h1 id="A-prettier-output"><a href="#A-prettier-output" class="headerlink" title="A prettier output"></a>A prettier output</h1><p>If the project grows the compilation may take a bit longer. So we want to display some kind of progress bar. And we want colors…</p>
<p>We can achieve this with</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">webpack</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">progress</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">colors</span></div></pre></td></tr></table></figure>
<hr>
<p><a id="watch-mode"></a></p>
<h1 id="Watch-mode"><a href="#Watch-mode" class="headerlink" title="Watch mode"></a>Watch mode</h1><p>We don’t want to manually recompile after every change…</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">webpack</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">progress</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">colors</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">watch</span></div></pre></td></tr></table></figure>
<p>Webpack can cache unchanged modules and output files between compilations.</p>
<blockquote>
<p>When using watch mode, webpack installs file watchers to all files, which were used in the compilation process. If any change is detected, it’ll run the compilation again. When caching is enabled, webpack keeps each module in memory and will reuse it if it isn’t changed.</p>
</blockquote>
<hr>
<p><a id="development-server"></a></p>
<h1 id="Development-server"><a href="#Development-server" class="headerlink" title="Development server"></a>Development server</h1><p>The development server is even better.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> webpack-dev-<span class="keyword">server</span> -g</div></pre></td></tr></table></figure>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">webpack</span><span class="literal">-</span><span class="comment">dev</span><span class="literal">-</span><span class="comment">server</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">progress</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">colors</span></div></pre></td></tr></table></figure>
<p>This binds a small express server on localhost:8080 which serves your static assets as well as the bundle (compiled automatically). It automatically updates the browser page when a bundle is recompiled (SockJS). Open <a href="http://localhost:8080/webpack-dev-server/bundle" target="_blank" rel="external">http://localhost:8080/webpack-dev-server/bundle</a> in your browser.</p>
<blockquote>
<p>The dev server uses webpack’s watch mode. It also prevents webpack from emitting the resulting files to disk. Instead it keeps and serves the resulting files from memory.</p>
</blockquote>
<p>参考：<br><a href="https://webpack.github.io/docs/tutorials/getting-started/" target="_blank" rel="external">https://webpack.github.io/docs/tutorials/getting-started/</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/工具/">工具</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-ES6中的一些新特性" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/25/ES6中的一些新特性/" class="article-date">
  	<time datetime="2016-07-25T07:25:15.000Z" itemprop="datePublished">2016-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/25/ES6中的一些新特性/">ES6中的一些新特性</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://htmljs.b0.upaiyun.com/uploads/1388549547510-20130807-es6.png" alt="enter image description here"></p>
<p>ES6带来了许多好东西，它们能够是我们开发出更快更好的web应用。现在我们就来看看其中几个最有用的几个。</p>
<h1 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h1><p>在ES6中存在多个可以缩短开发时间并加快应用运行速度的语法糖：</p>
<h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><p>这个特性非常有趣。例如，你可以吧一个对象结构为分开的变量：</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="built_in">point</span> = &#123;<span class="attribute">x</span>:<span class="number">1</span>,<span class="attribute">y</span>:<span class="number">2</span>&#125;;</div><div class="line"><span class="built_in">var</span> [x,y] = <span class="built_in">point</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(x); <span class="comment">//1</span></div><div class="line"><span class="built_in">console</span>.log(y); <span class="comment">//2</span></div></pre></td></tr></table></figure>
<p>解构的另一个用途是在一个函数中返回不同的值 – 不在需要返回一个对象了。我们可以根据我们的需要省略一些返回值。看下面的代码：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="title">returnsFewValues</span>()&#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">&#123;</span></div><div class="line">        x:<span class="number">1</span>,</div><div class="line">        y:<span class="number">2</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它与下面的代码等价：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="title">returnsFewValues</span>()&#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">[1,2]</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Let和Const"><a href="#Let和Const" class="headerlink" title="Let和Const"></a>Let和Const</h2><p>这两个关键字非常有用。它们都允许我们在一个作用域中锁定一个变量，因此在作用域意外它无法被获取：let用于普通变量，const用于常量 – 即值永远不会改变的变量。我们现在可以忘记使用丑陋的闭包了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> a = <span class="number">2</span>;</div><div class="line">        a = a + <span class="number">2</span>;</div><div class="line">    &#125;());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a);  <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<p>上面的代码可以被更加优雅的let语句所替代：</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span><span class="params">()</span><span class="comment">&#123;</span></span></div><div class="line">    let a = 2;</div><div class="line">    a = a + 2;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>console.log(a); //undefined</p>
<h2 id="For-Of以及数组理解"><a href="#For-Of以及数组理解" class="headerlink" title="For-Of以及数组理解"></a>For-Of以及数组理解</h2><p>for-of是旧的for-in表述的小弟弟。使用它，我们可以迭代值，而不迭代键：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> someArray = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (v <span class="keyword">of</span> someArray)&#123;</div><div class="line">    <span class="built_in">console</span>.log(v);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它也可以用在数组理解中。它们都是受到了数学中集合标示符的启发。例如，如果你有一个包含名字的数组，你只想要抓取其中长度在八个或以上的名字。在ES6之前，你可能会这样做：</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var eightLetterLongNames = [];</div><div class="line">someNamesArray.forEach(<span class="function"><span class="keyword">function</span><span class="params">(name)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">name</span>.length &gt;= <span class="number">8</span>) eightLetterLongNames.push(<span class="keyword">name</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>但是在ES6中，我们有更简单的写法：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var eightLetterLongNames = [x <span class="keyword">for</span> (<span class="built_in">name</span> <span class="keyword">of</span> someNamesArray) <span class="keyword">if</span> (<span class="built_in">name</span>.<span class="built_in">length</span>) &gt;= <span class="number">8</span>];</div></pre></td></tr></table></figure>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>你只需要从一个函数中返回一个值或者打印一些东西？通常，我们会这样做：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="built_in">console</span>.log(e);&#125;);</div></pre></td></tr></table></figure>
<p>ES6中的一个语法糖是箭头函数，它可以定义更好的一行函数：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="params">(e)</span> =&gt;</span> <span class="built_in">console</span>.log(e));</div></pre></td></tr></table></figure>
<h2 id="延伸操作符，剩余变量，以及默认参数"><a href="#延伸操作符，剩余变量，以及默认参数" class="headerlink" title="延伸操作符，剩余变量，以及默认参数"></a>延伸操作符，剩余变量，以及默认参数</h2><p>现在来看最后一个。我们现在终于可以定义默认参数并且忘记老旧的argument = argument || “default value”咒语了。像下面的代码一样定义函数：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="params">(arg1 = <span class="string">"default value"</span>, arg2 = <span class="literal">false</span>, arg3)</span>&#123;</span></div><div class="line">    <span class="comment">//函数体</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>延伸操作符允许我们将一个数组想分开的参数那样传递给一个函数。原来的写法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> someArray = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>];</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log.apply(<span class="built_in">window</span>,someArray);</div></pre></td></tr></table></figure>
<p>你现在可以这样写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> someArray = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>];</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(...someArray);</div></pre></td></tr></table></figure>
<p>如果你想要你的函数接收几个命名的变量以及后面几个无数目限制的变量，那么剩余变量将是一个很好的解决方案：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">logWithTag</span>(<span class="params">tag</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> logs = [].slice.call(<span class="built_in">arguments</span>,<span class="number">1</span>);</div><div class="line">    logs.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">log</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(tag + <span class="string">': '</span> + log);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面的代码是以前的写法，现在可以像下面这样写，而且更有可读性：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">logWithTag</span><span class="params">(tag, <span class="rest_arg">...logs</span>)</span></span>&#123;</div><div class="line">    logs.forEach(<span class="function"><span class="keyword">function</span> <span class="params">(log)</span></span>&#123;</div><div class="line">        console.log(tag + <span class="string">': '</span> + log);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>或者配合箭头函数可以更简单：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> logWithTag = <span class="function">(<span class="params">tag, ...logs</span>) = &gt; <span class="params">logs</span>.<span class="params">forEach</span>(<span class="params">(log</span>) =&gt;</span> <span class="built_in">console</span>.log(tag + <span class="string">': '</span> + log));</div></pre></td></tr></table></figure>
<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><p>最终，ES变成了一个真正的面向对象语言。由于类的引入，我们可以编写更加干净结构更加清晰的代码。我们现在不再需要使用一些流行的库来解决JavaScript中不包含类的问题了：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ExtJS   </span></div><div class="line"></div><div class="line"><span class="keyword">var</span> SimpleClass = <span class="keyword">new</span> Ext.Class(&#123;</div><div class="line">    name: <span class="string">'John Doe'</span>,</div><div class="line">    initialize: <span class="function"><span class="keyword">function</span><span class="params">(name)</span></span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;,</div><div class="line">    say: <span class="function"><span class="keyword">function</span><span class="params">(message)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">": "</span> + message;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//PrototypeJS   </span></div><div class="line"></div><div class="line"><span class="keyword">var</span> Person = Class.create();</div><div class="line">Person.prototype = &#123;</div><div class="line">    name: <span class="string">'John Doe'</span>,</div><div class="line">    initialize: <span class="function"><span class="keyword">function</span><span class="params">(name)</span></span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;,</div><div class="line">    say:<span class="function"><span class="keyword">function</span><span class="params">(message)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">': '</span> + message;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>现在我们可以用纯JavaScript来代替上面的代码：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">public</span> name: <span class="string">'John Doe'</span></div><div class="line"></div><div class="line">    initialize(name)&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    say(message)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">': '</span> + message;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ES6同样支持继承和扩展类，因此你完全可以使用JavaScript来编写像JAVA一样的面向对象应用。使用这种方式，你的带按摩变得更阿基简介并更容易阅读。</p>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>ES6中另一个令人激动的特性是模块。现在，已经有很多解决方法来模块化你的应用，主要是CommonJS和AMD。下面是几个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//CommonJS   </span></div><div class="line"></div><div class="line"><span class="comment">//point.js   </span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x,y</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = Point;   </div><div class="line"></div><div class="line"><span class="comment">//myapp.js   </span></div><div class="line"></div><div class="line"><span class="keyword">var</span> Point = <span class="built_in">require</span>(<span class="string">"point"</span>);</div><div class="line"><span class="keyword">var</span> origin = <span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="built_in">console</span>.log(origin);</div><div class="line"></div><div class="line"><span class="comment">//AMD   </span></div><div class="line"></div><div class="line"><span class="comment">//point.js   </span></div><div class="line">define(<span class="string">"point"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x,y</span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.x = x;</div><div class="line">        <span class="keyword">this</span>.y = y;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> Point;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//myapp.js   </span></div><div class="line">define(<span class="string">"my app"</span>,[<span class="string">"point"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">point</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> origin = <span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">    <span class="built_in">console</span>.log(origin);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在ES6中你不再需要这些库，你需要做的只是把你的代码分成小块。使用类，你可以获得更简洁更具有可维护性的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//point.js   </span></div><div class="line"></div><div class="line"><span class="built_in">module</span> <span class="string">"point"</span> &#123;</div><div class="line">    <span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">        <span class="keyword">constructor</span> (x,y) &#123;</div><div class="line">            public x = x;</div><div class="line">            public y = y;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//myapp.js   </span></div><div class="line"><span class="built_in">module</span> point <span class="keyword">from</span> <span class="string">"/point.js"</span></div><div class="line"><span class="keyword">import</span> Point <span class="keyword">from</span> <span class="string">"point"</span>  </div><div class="line"></div><div class="line"><span class="keyword">var</span> origin = <span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="built_in">console</span>.log(origin);</div></pre></td></tr></table></figure>
<h1 id="映射和集合"><a href="#映射和集合" class="headerlink" title="映射和集合"></a>映射和集合</h1><p>映射和集合在JavaScript中缺失已经很久了。它们都通过使用对象来模拟，但是当你想要迭代它们时会产生很多麻烦 – 你需要检查属性是否存在原型中，以及属性是否是一个方法：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="built_in">map</span> = &#123;</div><div class="line">    a: <span class="number">1</span>,</div><div class="line">    b: <span class="number">2</span>,</div><div class="line">    c: <span class="number">3</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="built_in">var</span> k <span class="keyword">in</span> <span class="built_in">map</span>)&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">map</span>.hasOwnProperty(k))&#123;</div><div class="line">        console.<span class="built_in">log</span>(<span class="built_in">map</span>[k]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="built_in">var</span> k <span class="keyword">in</span> <span class="built_in">map</span>)&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">map</span>.hasOwnProperty(k))&#123;</div><div class="line">        console.<span class="built_in">log</span>(k);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ES6中有更简单的方法：</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="built_in">map</span> = <span class="literal">new</span> <span class="built_in">Map</span>;</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"a"</span>, <span class="number">1</span>);</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"b"</span>, <span class="number">2</span>);</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">"c"</span>, <span class="number">3</span>);</div><div class="line"></div><div class="line">for (<span class="built_in">var</span> v <span class="keyword">in</span> <span class="built_in">map</span>.values()) &#123;</div><div class="line">   console.<span class="keyword">log</span>(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line">for (<span class="built_in">var</span> k <span class="keyword">in</span> <span class="built_in">map</span>.keys()) &#123;</div><div class="line">   console.<span class="keyword">log</span>(k);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于集合，它们和数组类似，但是值是有序的而且不能重复。下面是一个创建一个集合的例子：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="keyword">set</span> = <span class="keyword">new</span> Set;</div><div class="line"></div><div class="line"><span class="keyword">set</span>.<span class="keyword">add</span>(<span class="number">1</span>);</div><div class="line"><span class="keyword">set</span>.<span class="keyword">add</span>(<span class="number">2</span>);</div><div class="line"><span class="keyword">set</span>.<span class="keyword">add</span>(<span class="number">3</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> v <span class="keyword">in</span> <span class="keyword">set</span>.values()) &#123;</div><div class="line">   console.log(v);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>迭代器是特殊的函数，它能帮助我们在一个自定义对象中进行迭代。它们也被称为发生器，因为当它们单独使用时，它们可以生成内容（例如斐波那契数列或者随机数）。前面提到的values()和keys()是图的迭代器。基本上来说，你可以像定义一个函数一样定义一个迭代器，但是在函数名和function关键字之间有一个*号：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">fibonacci</span><span class="params">()</span></span>&#123;</div><div class="line">    let [ current, <span class="built_in">next</span> ] = [ <span class="number">0</span>, <span class="number">1</span> ];</div><div class="line">    <span class="keyword">for</span>(;;)&#123;//无限循环</div><div class="line">        [ current, <span class="built_in">next</span> ]= [ <span class="built_in">next</span>, current + <span class="built_in">next</span> ];</div><div class="line">        yield current;   </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用这种方法，作用域被挂起，并且你可以通过在返回值上调用next()来得到下一个值或者迭代它：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var fib = fibonacci();</div><div class="line"></div><div class="line">console.log(fib.<span class="keyword">next</span>()); <span class="regexp">//</span><span class="number">1</span></div><div class="line">console.log(fib.<span class="keyword">next</span>()); <span class="regexp">//</span><span class="number">2</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (var v <span class="keyword">of</span> <span class="class"><span class="keyword">lib</span>)&#123;</span></div><div class="line">    <span class="keyword">if</span>(v &gt; <span class="number">100</span>) <span class="keyword">break</span>;</div><div class="line">    console.log(v); <span class="regexp">//</span><span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="弱映射"><a href="#弱映射" class="headerlink" title="弱映射"></a>弱映射</h1><p>内存泄露一直是一个大问题，尤其是在一个web应用中。一个一般的资源是集合(collections)，它的键不是字符串或者数字（例如，你可以将对象作为键）。通常使用两个数组来实现 – 一个作为键一个作为值。这种方法很糟糕，因为作为键的数组并不能被垃圾回收因此内存泄露往往就在这里发生了。</p>
<p>若映射的优势在于它能够弱引用键对象，这意味着它不会阻止垃圾回收器回收不再被引用的键对象。看看下面的例子：</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> key1 = window, key2 = document;</div><div class="line"><span class="built_in">var</span> <span class="built_in">map</span> = <span class="literal">new</span> WeakMap(), map2 = <span class="literal">new</span> WeakMap();</div><div class="line"></div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(key1, <span class="string">"some value"</span>);</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(key2, key1);</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(map2, <span class="built_in">map</span>); <span class="comment">//你甚至可以进行环形引用</span></div></pre></td></tr></table></figure>
<h1 id="Proxies"><a href="#Proxies" class="headerlink" title="Proxies"></a>Proxies</h1><p>数据绑定在任何DOM造作库中都是非常有用的特性。现在，通过使用Proxies，它的语法和性能都将得到提升。同时，Proxies可以用来拦截对象中的改变并将改变打印出来，如果你需要的话。最大的改变在于你在被监控的对象上不再需要任何get()和set()函数了，因此你可以在以后的代码中移除日志功能而不需要改变任何代码。下面是一个日志代理的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> logger = <span class="function"><span class="keyword">function</span>(<span class="params">obj, info</span>) </span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="built_in">Proxy</span>.create(&#123;</div><div class="line">      <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">receiver, prop</span>) </span>&#123;</div><div class="line">         info(<span class="string">'Getting '</span> + prop);</div><div class="line">         <span class="keyword">return</span> obj[prop];</div><div class="line">      &#125;,</div><div class="line">      <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> <span class="title">set</span>(<span class="params">receiver, prop, value</span>) </span>&#123;</div><div class="line">         info(<span class="string">'Setting '</span> + prop + <span class="string">' to '</span> + value + <span class="string">'; was '</span> + obj[prop]);</div><div class="line">         <span class="keyword">debugger</span>;</div><div class="line">         obj[prop] = value;</div><div class="line">      &#125;</div><div class="line">   &#125;);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> object = &#123; <span class="attr">a</span>: <span class="string">'some value'</span>, <span class="attr">b</span>: <span class="number">22</span> &#125;;</div><div class="line"><span class="comment">// 当你不需要日志的时候这里可以移除</span></div><div class="line">object = logger(object, <span class="function"><span class="keyword">function</span> <span class="title">info</span>(<span class="params">msg</span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(msg);  </div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(obejct.a);</div><div class="line">object.a = <span class="string">'new value'</span>;</div><div class="line"><span class="built_in">document</span>.write(object.a);</div></pre></td></tr></table></figure>
<h1 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h1><p>许多人都很怀念JavaScript中的模板字符串。它们不仅允许我们轻松的在代码中插入变量，而且可以防止各种攻击来保证安全输出。模板字符串使用‘来定义。在其中，你可以使用一个$符号以及花括号来插入可执行的代码或者变量：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"John"</span>, surname = <span class="string">"Doe"</span>;</div><div class="line"><span class="keyword">var</span> template1 = <span class="string">`Hello! My name id <span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;surname&#125;</span>!`</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(template); <span class="comment">//Hello! My name is John Doe </span></div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>;</div><div class="line"><span class="keyword">var</span> template = <span class="string">`<span class="subst">$&#123;a&#125;</span> + <span class="subst">$&#123;b&#125;</span> - <span class="subst">$&#123;c&#125;</span> / 2 = $ &#123; a + b - c / 2 &#125;`</span>;  </div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(template2); <span class="comment">// 1 + 2 - 3 / 2 = 1.5</span></div></pre></td></tr></table></figure>
<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><p>你也可以在模板字符串前面定义一个标签。标签是一个函数，它将解析模板字符串中的部分，因此你可以处理一些用户生成的内容。ES6中已经有一些默认的标签了。最有用的一个，我认为是safehtml标签。简单来说，它能探测出一些不安全的内容例如XSS攻击等等，并将它们转化为无害的值。下面是一个例子：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var template = safehtml`<span class="javascript">&lt;a href=<span class="string">"$&#123;someUserdefinedVariable&#125;"</span>&gt;Click me!<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span>`;</div></pre></td></tr></table></figure>
<hr>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/es6/">es6</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/前端基础/">前端基础</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-browserify" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/25/browserify/" class="article-date">
  	<time datetime="2016-07-25T07:25:15.000Z" itemprop="datePublished">2016-07-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/25/browserify/">browserify入门</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><p>First install node, which ships with npm. Then do:<br>Hello World With Browserify<br>BUNDLE UP YOUR FIRST MODULE</p>
<p>Browsers don’t have the require method defined, but Node.js does. With Browserify you can write code that uses require in the same way that you would use it in Node.</p>
<p>Here is a tutorial on how to use Browserify on the command line to bundle up a simple file called main.js along with all of its dependencies:</p>
<p>main.js<br>var unique = require(‘uniq’);</p>
<p>var data = [1, 2, 2, 3, 4, 5, 5, 5, 6];</p>
<p>console.log(unique(data));<br>Install the uniq module with npm:<br>npm install uniq<br>Now recursively bundle up all the required modules starting at main.js into a single file called bundle.js with the browserify command:<br>browserify main.js -o bundle.js<br>Browserify parses the AST for require() calls to traverse the entire dependency graph of your project.<br>Drop a single <script> tag into your html and you’re done!</p>
<script src="bundle.js"></script></p>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/browserify/">browserify</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/工具/">工具</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-Mobile Web Demo 库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/20/Mobile Web Demo 库/" class="article-date">
  	<time datetime="2016-07-20T08:29:16.000Z" itemprop="datePublished">2016-07-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/20/Mobile Web Demo 库/">Mobile Web Demo 库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mobile-Web-Demo-库"><a href="#Mobile-Web-Demo-库" class="headerlink" title="Mobile Web Demo 库"></a>Mobile Web Demo 库</h1><style>
.team{font-size:110%;font-weight:bold; /*color:#6ACCCB;*/ color:#a00;}
</style>
<style>
._qr{display:inline-block;width:60px;height:60px;position:relative;top:0px;}
._qr img{position:absolute;left:0px;bottom:0px;width:60px;height:60px;z-index:1000000;border:0px solid #ddd;
            -webkit-transition: width .3s, height .3s;transition: width .3s, height .3s;}
._qr img:hover{width:120px;height:120px;border:2px solid #ddd;}
._lv1 img{z-index:1000001;}
</style>

<blockquote>
<p>各种有趣的Demo，有助于快速了解api的功能特性，提供思路，降低入门门槛</p>
</blockquote>
<h2 id="Demo-站点"><a href="#Demo-站点" class="headerlink" title="Demo 站点"></a>Demo 站点</h2><ul>
<li><a href="http://slides.html5rocks.com/#landing-slide" target="_blank" rel="external">HTML5 Presentation</a>【推荐】主流h5特性几乎都在里面了</li>
<li><a href="http://simpl.info/" target="_blank" rel="external">simpl.info</a>，以短小精悍的demo著称，html5rocks也经常引用这里的demo，有不少mobile web专有的demo</li>
<li><a href="http://html5demos.com" target="_blank" rel="external">html5demos.com</a>，知名demo站点</li>
</ul>
<h2 id="Demo-分类"><a href="#Demo-分类" class="headerlink" title="Demo 分类"></a>Demo 分类</h2><blockquote>
<p>还没想好怎么分，欢迎大家提建议</p>
</blockquote>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><ul>
<li><a href="http://mediaqueri.es/" target="_blank" rel="external">响应式网站设计gallery: http://mediaqueri.es</a></li>
<li><a href="http://mountaindew.com" target="_blank" rel="external">mountaindew：页面布局自适应幅度比较大的处理案例</a></li>
<li><a href="http://wiki.ued.taobao.net/doku.php?id=user:shuwen:macqq%E4%B8%8A%E7%9A%84%E8%B7%A8%E7%BB%88%E7%AB%AF" target="_blank" rel="external">Mac QQ的跨终端：iPhone App &amp; Mac App</a></li>
<li>WebApp - <a href="http://m.ihaveu.com" target="_blank" rel="external">优众iPhone版</a></li>
<li>WebApp - <a href="http://clear.evanyou.me/" target="_blank" rel="external">Clear HTML5 Version</a></li>
<li>WebApp - <a href="http://pattern.dk/sun/" target="_blank" rel="external">Sun - simple weather app</a></li>
<li><a href="http://www.chrome.com/supersyncsports/#/en-US" target="_blank" rel="external">Super Sync Sports，Chrome推出的跨终端游戏</a></li>
<li><a href="http://xudafeng.github.io/autoResponsive/cat/custom/" target="_blank" rel="external">Auto Responsive</a>   * <a href="http://demo.tmall.net/sub-proto/demo/sub.html" target="_blank" rel="external">demo原型</a> <span class="_qr"><img src="http://chart.apis.google.com/chart?cht=qr&chl=http%3A%2F%2Fdemo.tmall.net%2Fsub-proto%2Fdemo%2Fsub.html%23!0&chs=120x120&chld=L|2"></span>（可使用手机和pc打开）</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/数据库/">数据库</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-Mobile Web 远程调试工具库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/20/Mobile Web 远程调试工具库/" class="article-date">
  	<time datetime="2016-07-20T08:29:16.000Z" itemprop="datePublished">2016-07-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/20/Mobile Web 远程调试工具库/">Mobile Web 远程调试工具库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mobile-Web-远程调试工具库"><a href="#Mobile-Web-远程调试工具库" class="headerlink" title="Mobile Web 远程调试工具库"></a>Mobile Web 远程调试工具库</h1><blockquote>
<p>涵盖操作系统自带调试工具, 第三方调试工具, 效率提升工具</p>
</blockquote>
<ul>
<li>认领: 鬼道、玄道</li>
</ul>
<p>如何选择工具：</p>
<ul>
<li>优先考虑系统自带的调试工具，学习成本小，缺点是只能调试的浏览器有限制；需要调试特定浏览器，可使用weinre；</li>
<li>Adobe Edge Inpsect，多设备预览比较有用，调试功能是封装了weinre，目前免费adobe creative cloud账户只允许同时连接一台设备</li>
</ul>
<h2 id="远程调试-ios-safari-中的页面"><a href="#远程调试-ios-safari-中的页面" class="headerlink" title="远程调试 ios safari 中的页面"></a>远程调试 ios safari 中的页面</h2><ul>
<li>只需使用数据线连接ios设备，打开ios safari的web检查器</li>
<li>在mac中打开safari,开发 -&gt; iphone</li>
<li><a href="http://www.weste.net/2013/4-5/90194.html" target="_blank" rel="external">具体配置方法</a></li>
</ul>
<h2 id="远程调试-android-chrome-中的页面"><a href="#远程调试-android-chrome-中的页面" class="headerlink" title="远程调试 android  chrome 中的页面"></a>远程调试 android  chrome 中的页面</h2><ul>
<li>该方法需要安装android SDK,使用android的debugger模式进行调试</li>
<li>android设备需要安装chrome for android.</li>
<li><a href="https://developers.google.com/chrome-developer-tools/docs/remote-debugging" target="_blank" rel="external">具体配置方法</a></li>
</ul>
<h2 id="远程调试-Android-WebView-中的页面"><a href="#远程调试-Android-WebView-中的页面" class="headerlink" title="远程调试 Android WebView 中的页面"></a>远程调试 Android WebView 中的页面</h2><ul>
<li>该方法需要在android native app中开启：<code>WebView.setWebContentsDebuggingEnabled(true);</code></li>
<li>android sdk需要在API Level 19 (Kitkat)以上</li>
<li><a href="http://chessman-126-com.iteye.com/blog/2003929" target="_blank" rel="external">具体配置方法</a></li>
</ul>
<h2 id="在ADB-Logcat中打印Android-WevView-中的js-log"><a href="#在ADB-Logcat中打印Android-WevView-中的js-log" class="headerlink" title="在ADB Logcat中打印Android WevView 中的js log"></a>在ADB Logcat中打印Android WevView 中的js log</h2><ul>
<li>该方法可以将webview中的通过window.console输出的信息、js报错信息以及其它报错等信息打印到adb控制台中，但这需要在android native app中开启</li>
<li><a href="http://developer.android.com/guide/webapps/debugging.html" target="_blank" rel="external">具体配置方法</a></li>
</ul>
<h2 id="Weinre"><a href="#Weinre" class="headerlink" title="Weinre"></a>Weinre</h2><ul>
<li>是什么? 相当于给移动浏览器搭配上一个简化版”开发者工具”, weinre分客户端和服务器端, 需花1-2小时学习</li>
<li><a href="http://people.apache.org/~pmuellr/weinre/docs/latest/" target="_blank" rel="external">官方文档</a></li>
<li><a href="http://blog.csdn.net/dojotoolkit/article/details/6280924" target="_blank" rel="external">入门文档</a>, 随便找了一个中文的, 网上有很多翻译过的</li>
</ul>
<h2 id="Adobe-Edge-Inspec"><a href="#Adobe-Edge-Inspec" class="headerlink" title="Adobe Edge Inspec"></a>Adobe Edge Inspec</h2><ul>
<li>是什么? 可以看做是weinre强化升级版, 更为人熟知的功能是多设备页面同步刷新, 官方定义为”多设备页面预览和监控工具”</li>
<li><a href="http://html.adobe.com/edge/inspect/" target="_blank" rel="external">官方文档</a></li>
<li>目前中文文档比较少, 下面是网上搜来的一些定义</li>
</ul>
<blockquote>
<p>只需要把你的设备（Android 和 iOS）和你的电脑连接起来，这时候你的网站就会在各个设备上同步显示，让检查和调试变得更有效，并可以让设计师同时看到每个版本在所有目标设备上的显示情况</p>
</blockquote>
<h2 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h2><ol>
<li>weinre最初是phonegap(主流的hybrid app框架)的子项目</li>
<li>phonegap的母公司后来被adboe收购了</li>
<li>adobe用了weinre作为adobe shadow的调试技术</li>
<li>shadow改名到现在的adobe edge inspect</li>
<li>最初Adobe Edge（Preview）是一个制作html5动画的工具，后来 Adobe Edge 称为一个系列产品的总称。 </li>
</ol>
<blockquote>
<p>Adobe Edge系列产品的介绍：<a href="http://inflagrantedelicto.memoryspiral.com/2012/09/create-the-web-announcing-the-adobe-edge-family/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=create-the-web-announcing-the-adobe-edge-family" target="_blank" rel="external">原文</a> | <a href="http://bbs.9ria.com/thread-151304-1-1.html" target="_blank" rel="external">译文</a><br>Adobe Edge系列产品的介绍：<a href="http://inflagrantedelicto.memoryspiral.com/2012/09/create-the-web-announcing-the-adobe-edge-family/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=create-the-web-announcing-the-adobe-edge-family" target="_blank" rel="external">原文</a> | <a href="http://bbs.9ria.com/thread-151304-1-1.html" target="_blank" rel="external">译文</a></p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/数据库/">数据库</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-前端安全一些积累" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/18/前端安全一些积累/" class="article-date">
  	<time datetime="2016-07-18T08:59:16.000Z" itemprop="datePublished">2016-07-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/18/前端安全一些积累/">前端安全一些积累</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前端安全一些积累"><a href="#前端安全一些积累" class="headerlink" title="前端安全一些积累"></a>前端安全一些积累</h1><table>
<thead>
<tr>
<th>安全问题</th>
<th>影响对象</th>
</tr>
</thead>
<tbody>
<tr>
<td>XSS</td>
<td>新标签、属性、事件</td>
</tr>
<tr>
<td>DOM XSS</td>
<td>DOM</td>
</tr>
<tr>
<td>CSRF</td>
<td>cor、dom</td>
</tr>
<tr>
<td>Clickjacking</td>
<td>sandbox</td>
</tr>
<tr>
<td>离线缓存</td>
<td>application cache</td>
</tr>
<tr>
<td>本地存储</td>
<td>Web SQL、web storage</td>
</tr>
<tr>
<td>Web shell、web scanner</td>
<td>Websocket</td>
</tr>
<tr>
<td>地理位置信息泄露</td>
<td>Geolocation API</td>
</tr>
<tr>
<td>僵尸网络</td>
<td>Web workers</td>
</tr>
</tbody>
</table>
<h1 id="前端安全体系"><a href="#前端安全体系" class="headerlink" title="前端安全体系"></a>前端安全体系</h1><h2 id="input-filter"><a href="#input-filter" class="headerlink" title="input filter"></a>input filter</h2><h2 id="攻击性销毁"><a href="#攻击性销毁" class="headerlink" title="攻击性销毁"></a>攻击性销毁</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/前端安全/">前端安全</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-nodejs链接mysql" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/08/nodejs链接mysql/" class="article-date">
  	<time datetime="2016-07-08T08:29:16.000Z" itemprop="datePublished">2016-07-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/08/nodejs链接mysql/">nodejs 链接 mysql</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="nodejs-链接-mysql"><a href="#nodejs-链接-mysql" class="headerlink" title="nodejs 链接 mysql"></a>nodejs 链接 mysql</h1><h2 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h2><p>参见： <a href="https://aaaaaashu.gitbooks.io/mac-dev-setup/content/MySql/index.html" target="_blank" rel="external">https://aaaaaashu.gitbooks.io/mac-dev-setup/content/MySql/index.html</a>,<br>在mysql中建立数据库以及数据表可使用GUI工具mysqlworkbench.</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">"mysql"</span>);</div><div class="line"></div><div class="line"><span class="comment">// First you need to create a connection to the db</span></div><div class="line"><span class="keyword">var</span> con = mysql.createConnection(&#123;</div><div class="line">    <span class="attr">host</span>: <span class="string">"127.0.0.1"</span>,</div><div class="line">    <span class="attr">user</span>: <span class="string">"root"</span>,</div><div class="line">    <span class="attr">password</span>: <span class="string">"123456"</span>,</div><div class="line">    <span class="attr">database</span>:<span class="string">'supstarwulin'</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">con.connect(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(err)&#123;</div><div class="line">        <span class="built_in">console</span>.log(err);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Connection established'</span>);</div><div class="line"></div><div class="line">    <span class="comment">// read date</span></div><div class="line">    con.query(<span class="string">' SELECT * FROM employees'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,rows</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</div><div class="line"></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'Data received from Db:\n'</span>);</div><div class="line">        <span class="built_in">console</span>.log(rows);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//con.end(function(err) &#123;</span></div><div class="line"><span class="comment">//    console.log('end');</span></div><div class="line"><span class="comment">//    // The connection is terminated gracefully</span></div><div class="line"><span class="comment">//    // Ensures all previously enqueued queries are still</span></div><div class="line"><span class="comment">//    // before sending a COM_QUIT packet to the MySQL server.</span></div><div class="line"><span class="comment">//&#125;);</span></div></pre></td></tr></table></figure>
<p><a href="https://github.com/superstarwulin/nodejs-msql-demo/blob/master/simple.js" target="_blank" rel="external">https://github.com/superstarwulin/nodejs-msql-demo/blob/master/simple.js</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://codeforgeek.com/2015/01/nodejs-mysql-tutorial/" target="_blank" rel="external">https://codeforgeek.com/2015/01/nodejs-mysql-tutorial/</a><br><a href="https://www.sitepoint.com/using-node-mysql-javascript-client/" target="_blank" rel="external">https://www.sitepoint.com/using-node-mysql-javascript-client/</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/数据库/">数据库</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-mac上配置opencv" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/08/mac上配置opencv/" class="article-date">
  	<time datetime="2016-07-08T08:29:16.000Z" itemprop="datePublished">2016-07-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/08/mac上配置opencv/">mac上配置opencv,xcode c++ commond line 使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="OpenCV-2-4-6-mac-Xcode-4-6-安装教学"><a href="#OpenCV-2-4-6-mac-Xcode-4-6-安装教学" class="headerlink" title="OpenCV 2.4.6 + mac Xcode 4.6 安装教学"></a>OpenCV 2.4.6 + mac Xcode 4.6 安装教学</h1><p>前一阵子刚换mac，於是打算用mac来跑opencv，但没想到安装起来还满复杂的，</p>
<p>於是就决定做一个安装教学，希望可以帮助想在mac上跑opencv的各位</p>
<p>安装环境：</p>
<p>mac lion mountain 10.8</p>
<p>opencv 2.4.6</p>
<p>Xcode 4.6</p>
<p>1.下载opencv： <http: opencv.org=""></http:></p>
<p>右边有一个opencv for linux/mac</p>
<p>点下去就会自动下载了</p>
<p>2.安装homebrew： <http: brew.sh=""></http:></p>
<p>这是一个很好用的mac安装许多程式的软体</p>
<p>只要在终端机上输入</p>
<p>ruby -e “$(curl -fsSL <a href="https://raw.github.com/Homebrew/homebrew/go/install" target="_blank" rel="external">https://raw.github.com/Homebrew/homebrew/go/install</a>)”</p>
<p>就会自动下载安装了</p>
<p>终端机可以在下图找到</p>
<p><img src="http://2.bp.blogspot.com/-jNWKVizaqkM/UjHfMk_tbsI/AAAAAAAAACQ/VgT2e-kXJ6E/s1600/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7+2013-09-11+%E4%B8%8B%E5%8D%8810.47.32.png" alt=""></p>
<p>3.安装cmake：  <http: www.cmake.org=""></http:></p>
<p>在终端机输入</p>
<p>brew install cmake</p>
<p>就会自动下载安装了</p>
<p>4.安装Xcode：</p>
<p>直接去App Store 下载安装，Xcode是免费的</p>
<p>安装完后 进入Xcode的 preference 里面的download</p>
<p>下载 command line tool</p>
<p>5.安装opencv：</p>
<p>将下载回来的opencv压缩档解压缩会跑出资料夹</p>
<p>使用终端机进入解压缩后的资料夹</p>
<p>比较不熟linux指令的人</p>
<p>可以先用在终端机输入 =&gt;  ls   ,看现在位置的资料夹</p>
<p>再终端机依序输入       =&gt; cd  资料夹名称     ,进入压缩的资料夹中</p>
<p>可以在终端机输入       =&gt; pwd   ,确认当前位置</p>
<p>接着依序输入</p>
<p>mkdir release</p>
<p>cd release</p>
<p>cmake -G “Unix Makefiles” ..</p>
<p>make</p>
<p>sudo make install</p>
<p>依序完成以上步骤就全都安装好啰</p>
<p>接下来是新建opencv project</p>
<p>6.建立opencv project：</p>
<p>开启Xcode 建立专案</p>
<p><img src="http://2.bp.blogspot.com/-FL4WWykeMZA/UjHko30l0XI/AAAAAAAAACg/XAp1WEgKdYk/s1600/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7+2013-09-11+%E4%B8%8B%E5%8D%8811.10.41.png" alt=""></p>
<p>建立名称后 下面type选择 c++</p>
<p>建立后到build setting中</p>
<p>build options -&gt; compiler for c/c++…</p>
<p>选择LLVM GCC 4.2</p>
<p><img src="http://4.bp.blogspot.com/-iy3aG9bZFYg/UjHkqtMIynI/AAAAAAAAADk/2JUlHax9iFE/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.28.27.png" alt=""></p>
<p>到search paths中设定路径</p>
<p>library search paths 中 输入 /usr/local/lib  </p>
<p><img src="http://2.bp.blogspot.com/-kwzbhRsDG8I/UjHkp-61yjI/AAAAAAAAADM/j7ZqgDWyQGk/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.23.30.png" alt=""></p>
<p>header search paths 中输入 /usr/local/include   /usr/local/include/opencv</p>
<p><img src="http://4.bp.blogspot.com/-QXe7uVmlo5Q/UjHkqYE5hvI/AAAAAAAAADI/tivGerNM5EI/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.24.36.png" alt=""></p>
<p>7.include lib：</p>
<p>在专案名称上面按右键</p>
<p>选择add files to…..</p>
<p><img src="http://2.bp.blogspot.com/-S-F7DZ0oP0M/UjHko_76xBI/AAAAAAAAACs/xgAHpRMer6Q/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.12.20.png" alt=""></p>
<p>进入后直接按下 /   就会跳出go to the folder 再输入  /usr/local/lib</p>
<p><img src="http://1.bp.blogspot.com/-yaIxv-oHii0/UjHko75kPHI/AAAAAAAAADE/gQ9yo1j-9nQ/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.13.22.png" alt=""></p>
<p>接着把所有的opencv2.4.6档案都加进去（因为我以前有安装过2.4.3 所以有2.4.3的文件）</p>
<p><img src="http://4.bp.blogspot.com/-c0nrbO3x8qE/UjHkqwkoCAI/AAAAAAAAADc/NKgBz1nyNzM/s1600/%25E8%259E%25A2%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7+2013-09-11+%25E4%25B8%258B%25E5%258D%258811.36.31.png" alt=""></p>
<p>以上所有环境都设定好啰</p>
<p>可以开始试试看程式了！！！</p>
<p>8.final test：</p>
<p>贴上以下code</p>
<pre><code>//  Created by vince on 2013.
//  Copyright (c) 2013年 vince. All rights reserved.

#include &quot;opencv2/core/core.hpp&quot;
#include &quot;opencv2/highgui/highgui.hpp&quot;
#include &quot;opencv2/imgproc/imgproc.hpp&quot;

using namespace cv;
using namespace std;

int main(int argc, char *argv[])
{
    cv::Mat src;

    src=cv::imread(&quot;/Users/mac/Documents/MyCode/biglena.bmp&quot;, -1);

    //上面的路径为图片路径

    cv::imshow(&quot;show image&quot;,src);  //这边会show图出来

    cv::waitKey(0);

    return 0;
}
</code></pre><p>以上如果看得到图片就大功告成啰～～</p>
<h1 id="一些demo"><a href="#一些demo" class="headerlink" title="一些demo"></a>一些demo</h1><p><a href="http://opencv-srf.blogspot.com/" target="_blank" rel="external">http://opencv-srf.blogspot.com/</a></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://hujiaweibujidao.github.io/blog/2014/03/13/develop-with-opencv-on-mac-os-x/" target="_blank" rel="external">http://hujiaweibujidao.github.io/blog/2014/03/13/develop-with-opencv-on-mac-os-x/</a><br><a href="http://vincecc.blogspot.com/2013/09/opencv-246-mac-xcode-46.html" target="_blank" rel="external">http://vincecc.blogspot.com/2013/09/opencv-246-mac-xcode-46.html</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/opencv/">opencv</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-Mobile Web 兼容性工具库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/08/Mobile Web 兼容性工具库/" class="article-date">
  	<time datetime="2016-07-08T08:29:16.000Z" itemprop="datePublished">2016-07-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/08/Mobile Web 兼容性工具库/">Mobile Web 兼容性工具库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mobile-Web-兼容性工具库"><a href="#Mobile-Web-兼容性工具库" class="headerlink" title="Mobile Web 兼容性工具库"></a>Mobile Web 兼容性工具库</h1><blockquote>
<p>涵盖兼容性手册、API 文档，退化处理建议</p>
</blockquote>
<h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><ul>
<li><a href="http://caniuse.com" target="_blank" rel="external">caniuse</a> 最流行的兼容性手册</li>
<li><a href="http://mobilehtml5.org/" target="_blank" rel="external">mobilehtml5.org</a> 和caniuse不同的兼容性视图</li>
<li><a href="http://modernizr.com/" target="_blank" rel="external">Modernizr</a> 最流行html5特性检测库</li>
</ul>
<h2 id="API-文档"><a href="#API-文档" class="headerlink" title="API 文档"></a>API 文档</h2><ul>
<li><a href="https://developer.mozilla.org/en-US/docs" target="_blank" rel="external">Mozilla Doc Center</a></li>
<li><a href="https://github.com/rgarcia/dochub" target="_blank" rel="external">dochub</a>，数据来自mozilla，使用更方便，可以考虑本地搭建个环境</li>
</ul>
<h2 id="退化处理"><a href="#退化处理" class="headerlink" title="退化处理"></a>退化处理</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/基础/">基础</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/数据库/">数据库</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-jquery源码解析" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/09/jquery源码解析/" class="article-date">
  	<time datetime="2016-05-09T07:02:34.000Z" itemprop="datePublished">2016-05-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/09/jquery源码解析/">jquery源码学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.js" target="_blank" rel="external">version 2.0.3 googlecdn</a></p>
<h1 id="大框架"><a href="#大框架" class="headerlink" title="大框架"></a>大框架</h1><h4 id="自调匿名函数"><a href="#自调匿名函数" class="headerlink" title="自调匿名函数"></a>自调匿名函数</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">(<span class="name">funciton</span>()&#123;</div><div class="line">	var a = <span class="number">10</span><span class="comment">;</span></div><div class="line">	(<span class="name">21</span>,<span class="number">94</span>) 定义了一些变量和函数。 </div><div class="line">	// 包括 </div><div class="line">	JQuery = funciton(<span class="name">selector</span> ,context)&#123;</div><div class="line">		return new JQuery.fn.int(<span class="name">selector</span>,context,rootjQuery)<span class="comment">;</span></div><div class="line">	&#125;</div><div class="line">		</div><div class="line">	funciton $()&#123;</div><div class="line">	</div><div class="line">	</div><div class="line">	&#125;   // 变成局部函数和变量，与外部环境独立开来</div><div class="line">	</div><div class="line">	(<span class="name">96</span>,<span class="number">283</span>) // 面向对象的程序，给jq对象添加属性和方法。 $().css()<span class="comment">;</span></div><div class="line">	</div><div class="line">	(<span class="name">285</span>,<span class="number">347</span>) //  jq的继承方法 （类似继承，原型继承）后期扩展，以及插件扩展</div><div class="line">	jQuery.extend =  </div><div class="line">	</div><div class="line">	(<span class="name">349</span>,<span class="number">817</span>) jquery.extend() : // 扩展一些工具方法 $.trim()<span class="comment">;</span></div><div class="line">	</div><div class="line">	(<span class="name">877</span>,<span class="number">2856</span>) sizzle :复杂选择器的实现，$(<span class="symbol">'ul</span> li + p input.class')<span class="comment">;</span></div><div class="line">	</div><div class="line">	(<span class="name">2880</span>,<span class="number">3042</span>) jQuery.Callbacks :回调对象 ：通过回调对象去管理函数，函数的统一管理</div><div class="line">	</div><div class="line">	(<span class="name">3043</span>,<span class="number">3183</span>) jQuery.extend(<span class="name">Deferrred</span>) : 延迟对象：对异步的统一管理</div><div class="line">	</div><div class="line">	(<span class="name">3184</span>,<span class="number">3295</span>) support: 功能检测   // 判断浏览器版本不靠谱，判断功能</div><div class="line">	</div><div class="line">	（3308，3652）data()： 数据缓存 // 操作方法避免元素内存泄漏</div><div class="line">	</div><div class="line">	(<span class="name">3653</span>,<span class="number">3797</span>) queue()、 dqueue(): 队列管理 //</div><div class="line">	</div><div class="line">	(<span class="name">3803</span>,<span class="number">4299</span>) attr() prop() val() addClass() 等： 对元素属性的操作</div><div class="line">	</div><div class="line">   （4300，5128） on() rigger(): 事件操作相关方法</div><div class="line">	</div><div class="line">	(<span class="name">5140</span>,<span class="number">6057</span>) DOM操作：添加，删除，获取，包装 ，innertHMTL，筛选</div><div class="line">	</div><div class="line">	(<span class="name">6058</span>,<span class="number">6620</span>) css()：针对样式的操作，兼容性 boxsize</div><div class="line">	</div><div class="line">	(<span class="name">6621</span>,<span class="number">7854</span>) 提交数据和ajax(): ajax()load() getJSON()</div><div class="line">	</div><div class="line">	(<span class="name">7855</span>,<span class="number">8584</span>) animate(): 运动方法</div><div class="line">	</div><div class="line">	（8585，8792） offset(): 位置与尺寸</div><div class="line">	</div><div class="line">	（8804，8821）Jq支持模块化模式</div><div class="line">	</div><div class="line">	// 对外提供接口$</div><div class="line">	(<span class="name">8826</span>) window.JQuery=window.$= JQuery<span class="comment">;</span></div><div class="line">	</div><div class="line">&#125;)()<span class="comment">;</span></div></pre></td></tr></table></figure>
<h3 id="回调对象函数的统一管理"><a href="#回调对象函数的统一管理" class="headerlink" title="回调对象函数的统一管理"></a>回调对象函数的统一管理</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function">funciton <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line"><span class="function">function <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> cb = $Callbacks();</div><div class="line">cb.<span class="keyword">add</span>(fn1)</div><div class="line">cb.<span class="keyword">add</span>(fn2)</div><div class="line">cb.fire(); <span class="comment">// 1,2</span></div><div class="line"></div><div class="line">cb.<span class="keyword">remove</span>(fn2)</div><div class="line">c.fire(); <span class="comment">//1</span></div></pre></td></tr></table></figure>
<h3 id="异步调用统一管理"><a href="#异步调用统一管理" class="headerlink" title="异步调用统一管理"></a>异步调用统一管理</h3><figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">setTimeout<span class="comment">(funciton()</span>&#123;</div><div class="line">	alert<span class="comment">(1)</span></div><div class="line">&#125;,<span class="number">1000</span>)</div><div class="line">alert<span class="comment">(2)</span></div><div class="line"><span class="comment">// 2,1</span></div><div class="line"></div><div class="line"><span class="comment">// 来回嵌套不易理解</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// deffer</span></div><div class="line">var def= $.Defferred<span class="comment">()</span>;</div><div class="line">setTimeout<span class="comment">(funciton()</span>&#123;</div><div class="line">	alert<span class="comment">(1)</span></div><div class="line">	def.resolve<span class="comment">()</span></div><div class="line">		</div><div class="line">&#125;,<span class="number">1000</span>)</div><div class="line"></div><div class="line"><span class="comment">// def.done(funciton()&#123;</span></div><div class="line">alert<span class="comment">(2)</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="数据缓存"><a href="#数据缓存" class="headerlink" title="数据缓存"></a>数据缓存</h3><p>$(‘#div1’).data(‘name’,’hello’);<br>$(‘#div’).data(‘name’);</p>
<h3 id="extend"><a href="#extend" class="headerlink" title="extend"></a>extend</h3><p> 一个对象自变量时候</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 扩展工具方法</span></div><div class="line">$.extend(&#123;</div><div class="line"><span class="attr">aa</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line"><span class="attr">bb</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// 1 ,2</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  </span></div><div class="line">$.fn.extend(&#123;</div><div class="line"><span class="attr">aa</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line"><span class="attr">bb</span>:funciton()&#123;&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>当多个对象自变量时候，后面对象都是扩展到第一个对象身上</p>
<p>var a = {};<br>$extend{a,{name:’hello’},{age:30}}</p>
<p>// 还可以做深拷贝和浅拷贝。</p>
<h3 id="常用方法的实现"><a href="#常用方法的实现" class="headerlink" title="常用方法的实现"></a>常用方法的实现</h3><p>isArray: Array.isArray</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/基础/">基础</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 leo(武林)
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/mobile.js"></script>
<script src="/js/main.js"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>